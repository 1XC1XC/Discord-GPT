# 🤖 AI Discord Bot

A Discord bot that can chat using Ollama models and transcribe voice messages using Whisper. Built with Bun + Python.

## 📁 Project Structure
```
.
├── discord/          # Discord bot implementation
├── llama/           # Ollama API wrapper
├── whisper/         # Whisper service
└── sh/              # Shell scripts
```

## 🚀 Prerequisites

You'll need these installed:

- [Bun](https://bun.sh) for running JavaScript
- [Python](https://python.org) 3.8+ for Whisper
- [CUDA](https://developer.nvidia.com/cuda-toolkit) for GPU acceleration
- [FFmpeg](https://ffmpeg.org) for audio processing
- [Ollama](https://ollama.ai) for LLM support

## 📦 Installation

1. Install Ollama:
```bash
# macOS/Linux
curl -fsSL https://ollama.ai/install.sh | sh

# Windows
# Download from https://ollama.ai
```

2. Install Python dependencies:
```bash
cd whisper
pip install -r requirements.txt
```

3. Install Node dependencies:
```bash
# In each directory: discord/, llama/, whisper/src/js/
bun install
```

4. Set up your Discord bot:
   - Create a bot at https://discord.com/developers
   - Get your bot token
   - Create a `.env` file in the discord/ directory:
```env
DISCORD_TOKEN=your_token_here
```

## 🎯 Running the Bot

1. Start Ollama:
```bash
ollama serve
```

2. Start the Whisper service:
```bash
cd whisper/src/py
python main.py
```

3. Start the Discord bot:
```bash
cd discord
bun run index.js
```

## 🎮 Using the Bot

- `.ask <message>` - Chat with the bot
- `.clearhistory` - Clear your chat history
- Send a voice message - Bot will transcribe and respond
- Long responses are sent as text files

## ⚙️ Configuration

- Whisper model size can be changed in `whisper/src/py/main.py`
- Default Ollama model can be changed in `llama/index.js`
- Discord intents are configured in `discord/index.js`

## 🪟 WSL 2 whatever

Built this on WSL 2. You'll probably need to:
- Setup CUDA in WSL2 (nvidia-smi needs to work)
- Forward ports from WSL2: 8000 (whisper) & 11434 (ollama)
- Add GPU & memory limits to .wslconfig
- Fix any other random WSL2 weirdness that pops up

works on my machine ¯\_(ツ)_/¯

---
*This README was generated by Claude 3.5 Sonnet 🎭*
